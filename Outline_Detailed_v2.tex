\documentclass[11pt]{article}

\usepackage[top=1in, bottom=1.5in, left=1in, right=1in]{geometry}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amsmath}

\begin{document}
\section{Introduction}
Surface grid generation is a rich and mature topic.

In order to focus only on the contribution presented here, only a
limited background or explanation will be given for each related topic.
To accomplish this focused presentation, the author will assume the
reader possesses a working knowledge of commonly used phrases and
concepts associated with discrete geometry and mesh generation.

\section{Related Work}

\section{Nomenclature and Definitions}
\subsection{Parametric Surface}
I need a parametric surface so that I can maintain a valid topology.
Projection is not required since the topology gives me uv bounds. The
mesh generation is going on in parametric space. There is an
optimization function for creating the mesh in parametric space. Parametric
space is also great for optimization since you can write the topology
and optimization function constraints in uv space. Mapping a
discretization to a surface in general involved the determination of
"what" an edge means on the surface---whether it's a geodesic line, or
what... If you can do this that's great but the development of a map
is not the purpose of this work so, for ease of presentation, a
parametric surface is used.

Consider an orientable, parameterized surface, $\vec{S}\left(u,v\right)
: {\mathbb R}^2 \rightarrow {\mathbb R}^3$.

\subsection{Discretization}
Consider a discretization, $D$, defined on $S$, comprised of $n_t$
points, $P_i \in \left\{p_1,...,p_{n_t} \right\}$, and a
non-overlapping, non-degenerate, consistently oriented, triangular
connectivity $T$. Each triangle in $T$, $t_i$, is defined by points
$\left(p_j, p_k, p_m\right)$, and edges $\left(e_n, e_o,
e_p\right)$---where the edges are defined (for $t_i$) as $e_n
\left(p_j, p_k\right)$, $e_o \left(p_k, p_m\right)$, $e_p \left(p_m,
p_j\right)$. For the purposes of defining an edge in this work, the
ordering of the nodes does not matter. However, the ordering is used to
maintain consistent orientation during topological operations and to
define constraints in the developed optimization strategy.

Each point, $p_i$, in $D$ is defined at a $\left(u,v\right)_i$
coordinate, and edge is a straight line in both parametric space and in
${\mathbb R}^3$. This is not the case for a discretization which is
mapped onto a surface. In the absence of a parameterization the mapping
of an edge in ${\mathbb R}^3$ to a curve (possibly a straight line, but
    not guaranteed) on a surface is an ambiguous task which is outside
the scope of this work. Additionally, the development of topological
constraints for optimization, which will be detailed later, would not be
as straightforward as is possible when using a parameterized, planar
space.[MAYBE MORE ON THIS AND MAYBE MOVE THIS TO ANOTHER SECTION OR
REORDER TOPICS]

\subsubsection{Toplogy}
By ordering each the connectivity for each triangle in $T$ such that it
has a positive normal, it is straightforward to maintain valid
(non-overlapping) topology during optimization. This is done by not
allowing a topological change, such as an edge swap or nodal movement,
that creates invalid topology.

\subsection{Representation Deficit}
The concept of representation deficit was discussed [REFERENCE] in the
context of curve discretizations. Here, the concept will be extended to
two dimensions. Representation deficit is defined for an operation:

[SCALE INDEPENDENCE]

\subsubsection{Triangle}
A triangle is a planar object, and is representing a possibly non-planar
portion of a surface. Any triangle, with area $A_T$, in the
discretization can have at most the same area as the portion of the
surface which it represents, $A_S$. Therefore, the representation
deficit for a triangle, $RD_T$, can be defined as $RD_T = \frac{A_S -
A_T}{A_T}$. Note that the areas are calculated in ${\mathbb R}^3$. The
difference in surface area, $\left(A_S - A_T\right)$, is normalized by
$A_T$ so that the result is scale independent. Also, this is a
representation {\it deficit} since $A_S \ge A_T$ is always true.

In order to apply the above definition of representation deficit to a
mesh generation, a replacement for $A_S$ must be determined since the
area of the surface represented by $A_S$ is not always able to be
determined --- or, most often, the area calculation is impractical.
Generally, in order to reduce the representation deficit for a triangle
the triangle is split by inserting an interior point. Any point that is
inserted into the interior of the triangle would decrease the
representation deficit --- or at worst it will remain the same. However,
the determination of where to split the triangle should be done in such
a way that the representation deficit is minimized. This strategy of
refinement, refining each triangle in such a way that the representation
deficit is locally minimized,  would take advantage of the optimal
substructure the discrete topology.

The process of determining where to split a triangle is defined here by
a locally optimizing an objective function defined for a triangle: Let
$S(u,v)$ be a parameterized surface, $D$ be be a discretization of the
surface, and $T$ be a triangle (included in $D$) defined by an ordered
tuple of nodes, $\left(n_i, n_j, n_k\right)$. These nodes are ordered
such that the triangle normal is positive. Specifically, if $\vec{V_0} =
\left\{n_j - n_i \right\}$ and $\vec{V_1} = \left\{n_k - n_i\right\}$
then the triangle normal, $N_T = \vec{V_0} \times \vec{V_1}$, is
positive. Note that a two-dimensional cross-product (or two-dimensional
curl) is a scalar quantity. Additionally, let a node on the interior of
$T$ be defined as $n_O$. The four nodes, $n_i, n_j, n_k, and n_O$ define
three triangles, $T_i\left(n_i,n_j,n_0\right), T_j\left(n_j, n_k,
n_0\right), T_k\left(n_k, n_i, n_0\right)$. If $A(T)$ is a function that
calculates the area of a triangle in $\left(x,y,z\right)$ space, then
the optimization problem for finding the optimal position for $n_0$ in
$T$ can be stated as:

\begin{eqnarray*}
\begin{array}{rcl}
\text{minimize} \ O(T) & = & -\left(A\left(T_i\right) + A\left(T_j\right) + A\left(T_k\right) \right) \\
\text{subject to} \ N_{T_i} > 0 \\
N_{T_j} > 0 \\ 
N_{T_k} > 0 \\
\end{array}
\end{eqnarray*}

\subsubsection{Edge}
An edge in parametric space represents a (possible) curve on the
surface. Any edge, with length $L_E$, can have at most the same length
as the portion of the surface which it represents, $L_S$. Therefore, the
representation deficit for an edge, $RD_E$, can be defined as $RD_E =
\frac{L_S - L_E}{L_E}$. Note that the lengths are calculated in
${\mathbb R}^3$. The difference in length, $\left(L_S - L_E\right)$, is
normalized by $L_E$ so that the result is scale independent. Also, this
is a representation {\it deficit} since $L_S \ge L_E$ is always true;

In order to apply the above definition of representation deficit to mesh
generation, a replacement for $L_S$ must be determined since the area of
the surface represented by $L_S$ is not always able to be determined --
or, most often, the arc-length calculation is impractical.
Generally, in order to reduce the representation deficit for an edge 
the edge is split by inserting an interior point. Any point that is
inserted into the interior of the edge would decrease the
representation deficit --- or at worst it will remain the same. However,
the determination of where to split the edge should be done in such
a way that the representation deficit is minimized. This strategy of
refinement, refining each edge in such a way that the representation
deficit is locally minimized,  would take advantage of the optimal
substructure the discrete topology. A method for generating a locally
optimal edge split is detailed in [REFERENCE SELF].

In addition, the fact that and edge split will change the surface area
of the discretization should be considered. Since the overall
justification of this work is reduce the {\it area} representation
deficit of a discretization, the representation deficit will not be
defined for an edge but for an edge-split. Therefore, for a given edge,
only the edge-split that minimizes representation deficit is considered.
. The process of determining where to split a triangle is defined here
by locally optimizing an objective function defined for an edge-split.
Let $E\left(n_i,n_j\right)$ be an edge in $D$ that is shared
topologically by two triangles, $T_i\left(n_i,n_j,n_k\right)$, and
$T_j\left(n_i,n_l,n_j\right)$. Additionally, let a node on the interior
of the edge be defined as $n_O$. The five nodes, $n_i,n_j,n_k,n_l,n_O$
define four triangles, $T_a\left(n_i,n_O,n_k\right), T_b\left(n_O,n_j,
n_k\right), T_c\left(n_i,n_l,n_O\right), T_d\left(n_O,n_l,n_j\right)$.
The optimization problem for finding the optimal position for $n_O$ on
$E$ can be stated as:

\begin{eqnarray*}
\begin{array}{rcl}
\text{minimize} \ O(T) & = & -\left(A\left(T_a\right) + A\left(T_b\right) + A\left(T_c\right) A\left(T_d\right) \right) \\
\text{subject to} \ N_{T_a} > 0 \\
N_{T_b} > 0 \\ 
N_{T_c} > 0 \\
N_{T_d} > 0 \\
\end{array}
\end{eqnarray*}

\subsubsection{Edge Flipping}
Is it possible to have an optimal topology? If so, then it should be
reachable through repeated edge flipping. Therefore, we should be able
to write some sort of formulation for a pair of triangles and go from
there? [SUZANNE] Comment: for the sake of not doing any more coding, if
your ethics can let you come to the conclusion that this is either not
possible or not practical then this would fit into the
logic/justification in the next section.

\subsubsection{Nodal Smoothing}
For a node, $n_i$, the representation deficit can be defined only by
comparing it to the node when located at another point in space. Here
the comparison is bound by limiting the range of comparison within the
edge-hull topologically adjacent to $n_i$. This is functionally
equivalent to smoothing to maximize surface area.

\section{Optimal Substucture vs Global Optimization}
[NEED TO COME TO THE CONCLUSION HERE THAT GLOBAL OPTIMIZATION IS NOT
PRACTICAL] [COMMENT ON HOW ITERATIVE REFINEMENT IS USED HERE, NOT
SETTING UP SOME GLOBAL EQUATIONS]
\subsection{Local Optimization via Pattern Matching}
[Suzanne] I used a simple "cross" pattern (up down left right center)
and sized it based on the local geometry so that it could be moved
inside of the triangles/hulls many times before encountering the
boundary.

\section{Refinement via Representation-Deficit}
Let us develop the definition of a local optimization problem using the
concept of representation deficit as an objective function. First
consider all of the variables: the number of points ($n_p$), the
optimized topology/connectivity ($T_o$), and the position/location of
the points ($\vec{N_i}$).
\subsection{Fixed $n_p$, Fixed $T_o$, Dyanamic $\vec{N_i}$}
To start, let us define the problem as simply as possible: a fixed
number of points, a fixed topology, and the points have a variable
position.  The local optimization problem is defined as follows: [For
each node, $n_i$, determine the surface area of the topologically
adjacent triangles, $A_0$. Calculate the objective function for each of
the four candidate new positions in the pattern, $\left(O_{up},
O_{down}, O_{left}, O_{right}\right)$. Determine the minimum value from
the objective functions calculations, $O_{min}$. Compare $O_{min}$ to
the representation deficit change limit. Move if appropriate]
[DEFINITION OF OPTIMIZATION PROBLEMS]
[HOW TO FIT IN THE EDGE FLIPPING AS AN OPTIMIZATION PROBLEM? I CAN
JUSTIFY IT VIA HAND-WAVING, BUT NEED SOME WAY TO EXPLAIN IT BETTER]
\subsubsection{Race Condition}
In practice it was observed that nodes will often move toward each other
when there is a ``local minimum'' nearby. Here this phenomenon is called
a {\it race-condition}. However, once the two nodes get sufficiently
near to each other one will inevitably get to the local minimum first
and the other node will be ``pushed'' the away.
\subsection{Fixed $n_p$, Dynamic $T_o$, Dyanamic $\vec{N_i}$}
\subsubsection{Edge Flipping}
Another phenomenon that was noticed was that during the smoothing the
nodes would often be repositioned near edges. This usually meant that
the nearby minimum was on the edge or on the other topological side of
the edge. Without some sort of intervention, this would lead to nearly
degenerate geometry being formed. In order to prevent geometry which
could cause numerical robustness issues, when a node neared an edge the
edge was flipped. This allowed the node to move unobstructed by the
newly-reconnected edge.

The criteria for determining if a node is ``too close'' to an edge is
based on the pattern. If the minimum value for the objective function is
on or across an edge, then the edge is flipped and the process is
repeated with the new topology.

\subsection{Dynamic $n_p$, Dynamic $T_o$, Fixed $\vec{N_i}$}
This formulation is not well-posed in that without some sort of limit on
the number of nodes to add to the discretization {\it the} optimal
triangulation has infinite points. An infinitely refined surface would
have no discretization error. However, there is a limiting term that
ensures that infinite refinement will not occur: representation-deficit
limit [RENAME?]. This method of optimization takes advantage of the
optimal substructure associated with this optimization problem. Each
triangle is considered and the optimal nodal position is calculated
using the aforementioned pattern matching. However, there are some
limits on where these points can reside. If the pattern-matching leads
to a nodal position is too close to an edge then it is rejected.

\subsection{Dynamic $n_p$, Dynamic $T_o$, Dynamic $\vec{N_i}$}
This formulation combines all of the above modes by iteratively
combining representation-deficit driven refinement with nodal smoothing
and local reconnection.

\section{Error Bounds}
\section{Experimental Results}
\section{Conclusions}
\section{Acknowledgements}
\end{document}
